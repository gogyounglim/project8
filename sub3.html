<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.6.0.min.js"></script>
    <script src="js/public.js"></script>
    <link rel="stylesheet" href="css/sub3.css">
    
</head>
<body >
    <div id="wrap">
        <div class="loadingWrap">
            <div class="matrix2000"></div>
            <div class="matrix-2000"></div>
            <div class="matrix2000"></div>
        </div>
        <div class="menu">
            <a onclick="homepage()" class="Home-button">
               <span>HOME</span>
            </a>
            <a onclick="workpage()" class="Work-button">
                <span>WORK</span>    
            </a>
            <a href="" class="About-button">
               <span>ABOUT</span>
            </a>
        </div>
        <div class="pointer pointerColor1">

        </div>
         <div id="line">
            <div class="leftgold">
    
            </div>
            <div class="left Line">
    
            </div>
            <div class="right Line">
    
            </div>
            <div class="bottom Line">
    
            </div>
            <div class="rightgold tran-dealy">

            </div>
        </div>


        <div id="mainScrollWrap">
            <div class="scrollContent">   
                <h3>PS5</h3>
                <div class="mainImg">

                </div>
                <div class="introCon">
                    <div class="introCon1">
                        <span class="introText">
                            <h1>PS5</h1> 
                            <p>portfolio</p>
                        </span>
                        <span class="introMoveNum"><h1>2022</h1></span>
                    </div>
                    <div class="introCon2">
                        <p>저의 세번째 포트폴리오 PS5 소개 사이트입니다 .
                            두번쨰 포트폴리오에서 자바스크립트를 사용하여, 여러 효과를 사용한 경험을
                            바탕으로, 제가 해보고싶었던 효과를 넣어본 사이트입니다.
                            두번째 포트폴리오와 마찬가지로, 반응형 웹사이트로 만들었습니다.
                            여러가지 효과를 사용해보고, 실험해보며 정말 재미있게 만든 사이트입니다.
                        </p>
                    </div>
                </div>
                <div class="con1">
                    <div></div>
                    <div>
                        <img src="img/main/computer.png" alt="">
                        <div class="computerImg">
                            <img src="img/sub3/1.jpeg" alt="">
                        </div>
                        <p class="con1Text">사진 클릭시 사이트로 이동합니다.</p>
                        
                    </div>
                    <div></div>
                </div>
                <div id="sliderWrap">
                    <div>
                    </div>
                    <div>
                        <div class="slider">
                            <div class="slider-inner">
                                <div class="slider-item"><img src="img/sub3/1.jpeg" alt=""></div>
                                <div class="slider-item"><img src="img/sub3/2.jpeg" alt=""></div>
                                <div class="slider-item"><img src="img/sub3/3.jpeg" alt=""></div>
                                <div class="slider-item"><img src="img/sub3/4.jpeg" alt=""></div>
                                <div class="slider-item"><img src="img/sub3/5.jpeg" alt=""></div>
                                <div class="slider-item"><img src="img/sub3/6.jpeg" alt=""></div>
                                <div class="slider-item"><img src="img/sub3/7.jpeg" alt=""></div>
                                <div class="slider-item"><img src="img/sub3/8.jpeg" alt=""></div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="nextimgWrap">
                    <h3>
                        <span style="width:100%" ></span>
                        <span style="width:100%" ></span>
                        <span style="height: 100%;"></span>
                        <span style="height: 100%;"></span>
                        BOOK
                    </h3>
                    <div class="nextimg">
                        
                    </div>
                </div>


            </div>

        </div>
    </div>


    <script>
    $(function(){
        $('.nextimg').mouseover(function(){
            $('.nextimg').css('background-color','#b28949');
        });
        $('.nextimg').mouseleave(function(){
            $('.nextimg').css('background-color','rgba(85, 84, 84, 0.6)');
        });



        var pointSize = $(".pointer").width()/2;
        $("body").mousemove(function(e){    
            $('.pointer').css("top", e.pageY-pointSize);
            $('.pointer').css("left", e.pageX-pointSize);
            $('.pointer').fadeIn();
        });
        $("body").on("mouseleave", function(){
            $('.pointer').fadeOut();
        });

        $('.menu a').mouseover(function(){
            $('.pointer').addClass('pointerColor2');
        });
        $('.menu a').mouseleave(function(){
            $('.pointer').removeClass('pointerColor2');
            // $('.pointer').addClass('pointerColor1');
        });

        $(".computerImg img").click(function(){
            location.href = "https://gogyounglim.github.io/project6/";
        })

        
    });

;
    let num = 0;
    let idx = 0;
    let delta;
    let scrollcon = document.querySelector('.scrollContent');
    let introCon1 = document.querySelector('.introCon1');
    

    $(window).on('mousewheel DOMMouseScroll', function (e) {
    delta = e.originalEvent.wheelDelta || e.originalEvent.detail * -1;
        if (delta < 0) {
            if (!(num == 35) && delta < 0) {
                num++;
                if (num>=1) {    
                    $(".scrollContent").css("transform","translate3d(0px," +num*-100+"px,"+ "0px)");
                    $(".rightgold").css("transform","translate3d(0px," +num*30+"px,"+ "0px)");
                }
                if(num>=5) {
                    $('.introCon1').css("opacity","1");
                    $('.introCon2 > p').css("opacity","1");  
                    $('.introCon1').css("transform","matrix(1, 0, 0, 1, 0, 0)");    
                    $('.introMoveNum').css("transform","matrix(1, 0, 0, 1, 0, 0)");
                    $('.introCon2 > p').css("transform","matrix(1, 0, 0, 1, 0, 0)");
                }
                if(num>=14){
                    $('.con1').css('transform','matrix(1, 0, 0, 1, 0, 0)');
                    $('.con1').css('opacity','1');
                }
                if(num>=22){
                    $('#sliderWrap > div:nth-child(2)').css('margin-left','0px');
                    $('.slider').css('left','0%');
                }
            }
        } else {
            if (!(idx == 0)) {
                idx--;
            }
            if ((num>=1) ) {
                num--;
                $(".scrollContent").css("transform","translate3d(0px," +num*-100+"px,"+ "0px)");
                $(".rightgold").css("transform","translate3d(0px," +num*30+"px,"+ "0px)");
            }
        }
    console.log('스크롤',num);
    console.log('idx',idx);
    console.log('delta',delta);
    })

    //슬라이더 
    
    let slider = document.querySelector(".slider")
    let innerSlider = document.querySelector(".slider-inner")
    let pressed = false
    let startx
    let x

    slider.addEventListener("mousedown", e => {
        pressed = true
        startx = e.offsetX - innerSlider.offsetLeft
        
    })



    window.addEventListener("mouseup", () => {
        pressed = false
    })

    slider.addEventListener("mousemove", e => {
  if (!pressed) return
  e.preventDefault()
  x = e.offsetX-100

  innerSlider.style.left = `${x - startx}px `
  
  checkboundary()
})




function checkboundary() {
  let outer = slider.getBoundingClientRect()
  let inner = innerSlider.getBoundingClientRect()

  if (parseInt(innerSlider.style.left) > 0) {
    innerSlider.style.left = "200";
  } else if (inner.right < outer.right) {
    // innerSlider.style.left = `-${inner.width - outer.width}px`
  }
}
function homepage(){
    $('.loadingWrap').css('opacity','1');
    $('.loadingWrap').css('z-index','9999');
    document.querySelector('.loadingWrap > div:nth-child(1)').classList.remove('matrix2000');
    document.querySelector('.loadingWrap > div:nth-child(1)').classList.add('matrix0');
    document.querySelector('.loadingWrap > div:nth-child(3)').classList.remove('matrix2000');
    document.querySelector('.loadingWrap > div:nth-child(3)').classList.add('matrix0');
    document.querySelector('.loadingWrap > div:nth-child(2)').classList.remove('matrix-2000');
    document.querySelector('.loadingWrap > div:nth-child(2)').classList.add('matrix0');

    setTimeout(function(){
        document.querySelector('.loadingWrap > div:nth-child(1)').classList.add('matrix2000');
        document.querySelector('.loadingWrap > div:nth-child(1)').classList.remove('matrix0');
        document.querySelector('.loadingWrap > div:nth-child(3)').classList.add('matrix2000');
        document.querySelector('.loadingWrap > div:nth-child(3)').classList.remove('matrix0');
        document.querySelector('.loadingWrap > div:nth-child(2)').classList.add('matrix-2000');
        document.querySelector('.loadingWrap > div:nth-child(2)').classList.remove('matrix0');
        $('.mainImg').css('background','url(../img/main/bg-overlay.png)')
        $('.scrollContent > h3').css('display','none');
        
    },1400)
    setTimeout(function(){
        location.href = "index.html";     
    },2200)
    
}

    
    

    </script>
</body>
</html>